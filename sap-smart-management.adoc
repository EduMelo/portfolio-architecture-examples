= Smart Management for SAP
Ricardo Garcia Cavero @ipbabble
:homepage: https://gitlab.com/redhatdemocentral/portfolio-architecture-examples
:imagesdir: images
:icons: font
:source-highlighter: prettify
:toc: left
:toclevels: 5

This architecture covers Smart Management for RHEL servers hosting SAP workloads. SAP landscapes are usually very
complex with a high number of servers and lots of dependencies. Besides, SAP workloads are really performance demanding
and new recommendations need to be applied whenever a new release of the OS or the workload is certified. Maintaining
all the servers in these landscapes aligned and up to date with the latest recommendations can be really challenging.
On the other hand, being such critical systems the need to prevent potential issues is of the utmost importance. The
combination of Red Hat Insights with all its SAP specific rules to detect potential problems, Red Hat Automation
Platform to remediate them before they occur and Red Hat Satellite to manage the servers' lifecycle is a very powerful
and robust tool to make sure that the SAP workloads will be healthy and operate smooth and performantly.

*Use case:* Managing security, policy and patches for all the servers in the SAP ecosystem (on-premise, public, private
and hybrid cloud), making sure they are compliant with SAP and Red Hat's recommendations through their entire lifecycle.

--
image:intro-marketectures/smart-management-for-SAP-marketing-slide.png[750,700]
--

Open the diagrams below directly in the diagram tooling using 'Load Diagram' link. To download the project file for
these diagrams use the 'Download Diagram' link. The images below can be used to browse the available diagrams and can
be embedded into your content.

--
https://redhatdemocentral.gitlab.io/portfolio-architecture-tooling/index.html?#/portfolio-architecture-examples/projects/smart-management-sap.drawio[[Load Diagram]]
https://gitlab.com/redhatdemocentral/portfolio-architecture-examples/-/raw/main/diagrams/smart-management-sap.draw.io?inline=false[[Download Diagram]]
--

== The technology
--
image:logical-diagrams/sap-smart-management.png[750, 700]
--

* The following technology was chosen for this solution:

** *Red Hat OpenShift* is an enterprise-ready Kubernetes container platform built for an open hybrid cloud strategy.
It provides a consistent application platform to manage hybrid cloud, multicloud, and edge deployments.

** *Red Hat Ansible Automation Platform* is a foundation for building and operating automation across an organization.
The platform includes all the tools needed to implement enterprise-wide automation.

** *Red Hat Insights* continuously analyzes platforms and applications to predict risk, recommend actions, and track
costs so enterprises can better manage hybrid cloud environments.

** *Red Hat Smart Management* combines the flexible and powerful infrastructure management capabilities with the
ability to execute remediation plans. It helps you more securely manage any environment supported by Red Hat Enterprise
Linux, from physical machines to hybrid multiclouds.

** *Red Hat OpenShift Data Foundations* is software-defined storage for containers. Engineered as the data and storage
services platform for Red Hat OpenShift, Red Hat OpenShift Data Foundation helps teams develop and deploy applications
quickly and efficiently across clouds.

** *Red Hat Satellite* is an infrastructure management product specifically designed to keep Red Hat Enterprise Linux
environments and other Red Hat infrastructure running efficiently, with security, and compliant with various standards.

** *Red Hat Quay* is a private container registry that stores, builds, and deploys container images. It analyzes your
images for security vulnerabilities, identifying potential issues that can help you mitigate security risks.

** *Red Hat Enterprise Linux* is the world’s leading enterprise Linux platform. It’s an open source operating system
(OS). It’s the foundation from which you can scale existing apps—and roll out emerging technologies—across bare-metal,
virtual, container, and all types of cloud environments

** *Red Hat Enterprise Linux for SAP Solutions* is combining an intelligent operating system with predictive management
tools and SAP-specific content, Red Hat Enterprise Linux for SAP Solutions provides a single, consistent, highly
available foundation for business-critical SAP and non-SAP workloads.

== SAP smart management overview
--
image:schematic-diagrams/sap-smart-management-network-sd.png[750, 700]
--
In the SAP landscape there can be classic SAP Netweaver applications that can run on AnyDB or SAP HANA (thus the dotted connection in the diagram) and SAP S/4HANA applications that will only run on SAP HANA. Smart Management can be applied to any of those scenarios thus covering all the deployments supported by SAP.

== SAP smart management data flow overview
--
image:schematic-diagrams/sap-smart-management-data-sd.png[750, 700]
--
All the SAP hosts (DB and application) are sending information about their configuration and status to the Smart Management server
The Smart Management server sends anonymized information about the SAP hosts to the Insights Service in Red Hat SaaS
The Insights Service sends the data to the Insights Platform (also in Red Hat SaaS) to compare it to the rules (namely to the SAP specific ones)
If there are configurations that can lead to potential issues in the SAP hosts the Enterprise Operating Automation (also in Red Hat SaaS) will send remediation playbooks to the Insights Platform
The Insights Platform sends a generated plan for the remediation to the Smart Management host
Smart Management sends the generated plan and the packages necessary to the plan to the Automation Orchestration host (Ansible Tower)
Automation Orchestration runs the remediation playbooks in the SAP servers


With the packages, security fixes, etc., applied to the hosts in the SAP Landscape we make sure that they are all up to date and at the same level (according to Red Hat and SAP’s recommendations) so there is no drift between them that can cause issues.
